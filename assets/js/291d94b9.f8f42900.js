"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9539],{3618:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>c,metadata:()=>t,toc:()=>_});var s=r(4848),a=r(8453);const c={},i="ESP CAMERA\u5b66\u4e60",t={id:"espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_camera",title:"ESP CAMERA\u5b66\u4e60",description:"\u5f00\u53d1\u73af\u5883\uff1a",source:"@site/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_camera.md",sourceDirName:"espressif/\u4e2a\u4eba\u5b66\u4e60/IDF",slug:"/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_camera",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_camera",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_camera.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ESP\u5e38\u7528CMAKE",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/cmake"},next:{title:"esp_lcd\u7ed8\u5236\u5b57\u7b26",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_lcd_drawmap_font"}},d={},_=[{value:"1.\u914d\u7f6ecamera",id:"1\u914d\u7f6ecamera",level:3},{value:"2.\u663e\u793a\u6444\u50cf\u5934\u6570\u636e\u5230lcd\u4e2d\uff1a",id:"2\u663e\u793a\u6444\u50cf\u5934\u6570\u636e\u5230lcd\u4e2d",level:3},{value:"3.camera\u914d\u7f6e",id:"3camera\u914d\u7f6e",level:3}];function p(e){const n={code:"code",h1:"h1",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"esp-camera\u5b66\u4e60",children:"ESP CAMERA\u5b66\u4e60"}),"\n",(0,s.jsx)(n.p,{children:"\u5f00\u53d1\u73af\u5883\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ESP32-S3"}),"\n",(0,s.jsx)(n.li,{children:"idf master (2024\u5e7403\u670815\u65e5)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"camera\u7684\u5f15\u811a\u5b9a\u4e49\u5982\u4e0b\uff1a"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{src:r(2840).A+"",width:"628",height:"802"}),"\r\n",(0,s.jsx)(n.img,{src:r(6872).A+"",width:"602",height:"626"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:r(8173).A+"",width:"1069",height:"361"})}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4f7f\u7528esp-camera\u7ec4\u4ef6\u524d\uff0c\u9700\u8981\u5f00\u542fpsram\uff0c\u53ef\u4ee5\u628a\u8fd9\u4e9b\u5185\u5bb9\u653e\u5230sdkdefaults\u4e2d"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-config",children:"CONFIG_ESP32S3_DEFAULT_CPU_FREQ_240=y\r\nCONFIG_SPIRAM_SUPPORT=y\r\nCONFIG_ESP32S3_SPIRAM_SUPPORT=y\r\nCONFIG_SPIRAM_SPEED_80M=y\r\nCONFIG_SPIRAM_MODE_OCT=y\n"})}),"\n",(0,s.jsx)(n.h3,{id:"1\u914d\u7f6ecamera",children:"1.\u914d\u7f6ecamera"}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u6587\u91c7\u7528\u7684ST7789\uff0c\u6240\u6709formate\u8bbe\u7f6e\u7684RGB565\uff0c\u6b64\u5916\u5206\u8fa8\u7387\u8bbe\u7f6e\u4e3a240x240"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'static camera_config_t camera_config = {\r\n    .pin_pwdn = -1,\r\n    .pin_reset = -1,\r\n    .pin_xclk = 15,\r\n    .pin_sccb_sda = 4,\r\n    .pin_sccb_scl = 5,\r\n    .pin_d7 = 16,\r\n    .pin_d6 = 17,\r\n    .pin_d5 = 18,\r\n    .pin_d4 = 12,\r\n    .pin_d3 = 10,\r\n    .pin_d2 = 8,\r\n    .pin_d1 = 9,\r\n    .pin_d0 = 11,\r\n    .pin_vsync = 6,\r\n    .pin_href = 7,\r\n    .pin_pclk = 13,\r\n    .xclk_freq_hz = 20000000, // EXPERIMENTAL: Set to 16MHz on ESP32-S2 or ESP32-S3 to enable EDMA mode\r\n    .ledc_timer = LEDC_TIMER_0,\r\n    .ledc_channel = LEDC_CHANNEL_0,\r\n    .pixel_format = PIXFORMAT_RGB565,\r\n    .frame_size = FRAMESIZE_240X240,\r\n    .jpeg_quality = 12, // 0-63 lower number means higher quality\r\n    .fb_count = 1,\r\n    .grab_mode = CAMERA_GRAB_WHEN_EMPTY,\r\n};\r\n\r\nesp_err_t camera_init()\r\n{\r\n    esp_err_t err = esp_camera_init(&camera_config);\r\n    if (err != ESP_OK)\r\n    {\r\n        ESP_LOGE(TAG, "Camera Init Failed");\r\n        return err;\r\n    }\r\n    return ESP_OK;\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2\u663e\u793a\u6444\u50cf\u5934\u6570\u636e\u5230lcd\u4e2d",children:"2.\u663e\u793a\u6444\u50cf\u5934\u6570\u636e\u5230lcd\u4e2d\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"while (1)\r\n{\r\n    camera_fb_t *pic = esp_camera_fb_get();\r\n    esp_lcd_panel_draw_bitmap(lcd_panel, 0, 0, 240 + 1, 240 + 1, pic->buf);\r\n    esp_camera_fb_return(pic);\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3camera\u914d\u7f6e",children:"3.camera\u914d\u7f6e"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u60f3\u8bbe\u7f6e\u4e00\u4e9b\u7ffb\u8f6c\u6216\u5176\u4ed6\u7684\u8bdd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"sensor_t *s = esp_camera_sensor_get();\r\ns->set_hmirror(s, 1);\n"})})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},2840:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/camera_pin-51824156a1aabca81d373218ac24503e.png"},8173:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u6444\u50cf\u5934\u5f15\u811a\u4ecb\u7ecd-ab0a643666f2948d072712e8585a6c38.png"},6872:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/\u9177\u4e16\u6444\u50cf\u5934\u5f15\u811a-479f44e207dbf26c1d5af8974741450f.png"},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>t});var s=r(6540);const a={},c=s.createContext(a);function i(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);