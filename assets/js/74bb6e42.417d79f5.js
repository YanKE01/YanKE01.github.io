"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4607],{846:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var i=r(4848),a=r(8453);const t={},s="simwindfarm\u95ee\u9898\u603b\u7ed3",o={id:"graduate/simwindfarm_question",title:"simwindfarm\u95ee\u9898\u603b\u7ed3",description:"1.\u521b\u5efa\u98ce\u7535\u573a\u63d0\u793amatlab\u5e76\u884c\u9519\u8bef",source:"@site/docs/graduate/simwindfarm_question.md",sourceDirName:"graduate",slug:"/graduate/simwindfarm_question",permalink:"/docs/graduate/simwindfarm_question",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/graduate/simwindfarm_question.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u4f7f\u7528python\u83b7\u53d6\u7a0b\u5e8fram\u4f7f\u7528\u60c5\u51b5",permalink:"/docs/graduate/python_ram_usage"},next:{title:"\u5b58\u653e\u786c\u4ef6\u56fe\u7eb8\u4e0e\u8d44\u6599",permalink:"/docs/ref/"}},l={},c=[{value:"1.\u521b\u5efa\u98ce\u7535\u573a\u63d0\u793amatlab\u5e76\u884c\u9519\u8bef",id:"1\u521b\u5efa\u98ce\u7535\u573a\u63d0\u793amatlab\u5e76\u884c\u9519\u8bef",level:3},{value:"2.Post processing\u6a21\u5757\u4e2d\uff0c\u51fa\u56fe\u65f6\u51fa\u73b0logsout\u672a\u5b9a\u4e49\u95ee\u9898\uff1a",id:"2post-processing\u6a21\u5757\u4e2d\u51fa\u56fe\u65f6\u51fa\u73b0logsout\u672a\u5b9a\u4e49\u95ee\u9898",level:3},{value:"3.Post processing\u6a21\u5757\u4e2dFatigue Computation\u6ca1\u6709\u51fa\u73b0\u75b2\u52b3\u8f7d\u8377\u8bc4\u4f30\u8bbe\u7f6e\u754c\u9762",id:"3post-processing\u6a21\u5757\u4e2dfatigue-computation\u6ca1\u6709\u51fa\u73b0\u75b2\u52b3\u8f7d\u8377\u8bc4\u4f30\u8bbe\u7f6e\u754c\u9762",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h3:"h3",img:"img",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"simwindfarm\u95ee\u9898\u603b\u7ed3",children:"simwindfarm\u95ee\u9898\u603b\u7ed3"}),"\n",(0,i.jsx)(e.h3,{id:"1\u521b\u5efa\u98ce\u7535\u573a\u63d0\u793amatlab\u5e76\u884c\u9519\u8bef",children:"1.\u521b\u5efa\u98ce\u7535\u573a\u63d0\u793amatlab\u5e76\u884c\u9519\u8bef"}),"\n",(0,i.jsx)(e.p,{children:"\u8fd0\u884c create_windfarm.m\u4ee3\u7801\uff0c\u63d0\u793amatlab \u65b0\u7248\u672c\u7f3a\u5c11matlabpool\uff0c\u6539\u7528parpool"}),"\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539create_windfield.m\u4ee3\u7801"}),"\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539\u524d\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-matlab",children:"if(~error)\r\n    parallel=questdlg('Do you want to use Matlab parallel computation framwork?','Wind farm creator','Yes','No',{'No'});\r\n    h=matlabpool('size');\r\n    switch(parallel)\r\n        case 'Yes'\r\n            if(h==0)\r\n                matlabpool('open');\r\n            end\r\n        otherwise\r\n            if(h~=0)\r\n                matlabpool('close');\r\n            end\r\n    end\r\n    defdesc{1}=['Mean:' num2str(U0) ' m/s Turbulence: ' num2str(Ti) ' SimTime:' num2str(SimTime) ];\r\n    desc=inputdlg('Enter wind field description','Wind Farm Creator',1,defdesc);\r\n    if(isempty(desc))\r\n        desc=defdesc{1};\r\n    end\r\n    wind=gen_windfield(U0,Ti,d,Lx,Ly,SimTime,desc);\r\n    pause(1)\r\n    [file,path]=uiputfile('*.mat','Save wind field as','mywind.mat');\r\n    if ~(isequal(file,0) || isequal(path,0))\r\n        save([path file],'wind');\r\n    end\r\n    wfgen=true;\r\n    break;\r\nend\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539\u540e\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-matlab",children:"if(~error)\r\n    parallel=questdlg('Do you want to use Matlab parallel computation framwork?','Wind farm creator','Yes','No',{'No'});\r\n    % h=matlabpool('size');\r\n    % switch(parallel)\r\n    %     case 'Yes'\r\n    %         if(h==0)\r\n    %             matlabpool('open');\r\n    %         end\r\n    %     otherwise\r\n    %         if(h~=0)\r\n    %             matlabpool('close');\r\n    %         end\r\n    % end\r\n\r\n    if isempty(gcp('nocreate'))\r\n        parpool;\r\n    end\r\n    defdesc{1}=['Mean:' num2str(U0) ' m/s Turbulence: ' num2str(Ti) ' SimTime:' num2str(SimTime) ];\r\n    desc=inputdlg('Enter wind field description','Wind Farm Creator',1,defdesc);\r\n    if(isempty(desc))\r\n        desc=defdesc{1};\r\n    end\r\n    wind=gen_windfield(U0,Ti,d,Lx,Ly,SimTime,desc);\r\n    pause(1)\r\n    [file,path]=uiputfile('*.mat','Save wind field as','mywind.mat');\r\n    if ~(isequal(file,0) || isequal(path,0))\r\n        save([path file],'wind');\r\n    end\r\n    wfgen=true;\r\n    break;\r\nend\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e3b\u8981\u662f\u8fd9\u5757\u4ee3\u7801\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-m",children:"if isempty(gcp('nocreate'))\r\n    parpool;\r\nend\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u53c2\u8003\uff1a",(0,i.jsx)(e.a,{href:"https://blog.csdn.net/chentianting/article/details/88693526?spm=1001.2014.3001.5506",children:"matlab parpool\u95ee\u9898"})]}),"\n",(0,i.jsx)(e.h3,{id:"2post-processing\u6a21\u5757\u4e2d\u51fa\u56fe\u65f6\u51fa\u73b0logsout\u672a\u5b9a\u4e49\u95ee\u9898",children:"2.Post processing\u6a21\u5757\u4e2d\uff0c\u51fa\u56fe\u65f6\u51fa\u73b0logsout\u672a\u5b9a\u4e49\u95ee\u9898\uff1a"}),"\n",(0,i.jsx)(e.p,{children:"\u53f3\u952e\u6a21\u5757\u5c5e\u6027\uff0c\u67e5\u770b\u56de\u8c03\uff0c\u67e5\u770bOpenFcn\u56de\u8c03\uff0c\u53d1\u73b0\u51fa\u56fe\u8c03\u7528\u7684\u51fd\u6570"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-matlab",children:"fatigue=fatiguegui(logsout);\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u6211\u4eec\u81ea\u5df1\u751f\u6210\u7684\u73af\u5883\u4e2d\uff0clogsout\u53d8\u91cf\u5728out\u7ed3\u6784\u4e0b\uff1a\r\n",(0,i.jsx)(e.img,{src:r(7020).A+"",width:"580",height:"429"})]}),"\n",(0,i.jsx)(e.p,{children:"\u4fee\u6539\u56de\u8c03\u51fd\u6570\u4ee3\u7801\u5373\u53ef"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-matlab",children:"fatigue=fatiguegui(out.logsout);\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3post-processing\u6a21\u5757\u4e2dfatigue-computation\u6ca1\u6709\u51fa\u73b0\u75b2\u52b3\u8f7d\u8377\u8bc4\u4f30\u8bbe\u7f6e\u754c\u9762",children:"3.Post processing\u6a21\u5757\u4e2dFatigue Computation\u6ca1\u6709\u51fa\u73b0\u75b2\u52b3\u8f7d\u8377\u8bc4\u4f30\u8bbe\u7f6e\u754c\u9762"}),"\n",(0,i.jsx)(e.p,{children:"\u67e5\u770bfatiguegui.m\u6587\u4ef6\uff0c\u53d1\u73b0\u8bbe\u7f6e\u90e8\u5206\u4ee3\u7801\u6ce8\u91ca"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-matlab",children:"%qs={'Turbine #','Racetrack ratio','Unbinned Cycle Multiplier','Rainflow period [s]','Average Rayleigh wind speed [m/s]','Minimum Rayleigh wind speed [m/s]','Rayleigh delta wind speed [m/s]'};\r\n%answer={'1','0.05','.5','300','10','5','.5'};\r\n% fatparm=inputdlg(qs,'Fatigue Computation',1,answer,options);\r\n% config.wt=str2double(fatparm{1});\r\n% config.FiltRatio=str2double(fatparm{2});\r\n% config.UCMult=str2double(fatparm{3});\r\n% config.RF_Per=str2double(fatparm{4});\r\n% config.RayAverWS=str2double(fatparm{5});\r\n% config.WSmin=str2double(fatparm{6});\r\n% config.WSdel=str2double(fatparm{7});\r\n%config=struct();\r\n%fatparm=inputdlg(qs,'Fatigue Computation',1,answer,options);\r\n     config.DoLife=1;\r\n     config.DoSimpDEL=1;\r\n     config.BinCycles=1;\r\n     config.BinMeans=0;\r\n     config.PltBinCyc=0;\r\n     config.PltRngMean=0;\r\n     config.PltCumCyc=1;%\xbb\xad\xd3\xea\xc1\xf7\xd1\xad\xbb\xb7\xb5\xc4\xcd\xbc\r\n     config.PltProbExc=0;\r\n     config.wt=1;\r\n     config.FiltRatio=0.05;\r\n     config.UCMult=5;\r\n     config.RF_Per=300;\r\n     config.RayAverWS=10;\r\n     config.WSmin=5;\r\n     config.WSdel=5;\r\n\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u53d6\u6d88\u6ce8\u91ca\u5373\u53ef\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-matlab",children:"qs={'Turbine #','Racetrack ratio','Unbinned Cycle Multiplier','Rainflow period [s]','Average Rayleigh wind speed [m/s]','Minimum Rayleigh wind speed [m/s]','Rayleigh delta wind speed [m/s]'};\r\nanswer={'1','0.05','.5','300','10','5','.5'};\r\nfatparm=inputdlg(qs,'Fatigue Computation',1,answer,options);\r\nconfig.wt=str2double(fatparm{1});\r\nconfig.FiltRatio=str2double(fatparm{2});\r\nconfig.UCMult=str2double(fatparm{3});\r\nconfig.RF_Per=str2double(fatparm{4});\r\nconfig.RayAverWS=str2double(fatparm{5});\r\nconfig.WSmin=str2double(fatparm{6});\r\nconfig.WSdel=str2double(fatparm{7});\r\nconfig=struct();\r\nfatparm=inputdlg(qs,'Fatigue Computation',1,answer,options);\r\n     config.DoLife=1;\r\n     config.DoSimpDEL=1;\r\n     config.BinCycles=1;\r\n     config.BinMeans=0;\r\n     config.PltBinCyc=0;\r\n     config.PltRngMean=0;\r\n     config.PltCumCyc=1;%\xbb\xad\xd3\xea\xc1\xf7\xd1\xad\xbb\xb7\xb5\xc4\xcd\xbc\r\n     config.PltProbExc=0;\r\n     config.wt=1;\r\n     config.FiltRatio=0.05;\r\n     config.UCMult=5;\r\n     config.RF_Per=300;\r\n     config.RayAverWS=10;\r\n     config.WSmin=5;\r\n     config.WSdel=5;\n"})})]})}function m(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},7020:(n,e,r)=>{r.d(e,{A:()=>i});const i=r.p+"assets/images/where_is_logsout-3042818c0dfffb4bf9dfac88a034d669.png"},8453:(n,e,r)=>{r.d(e,{R:()=>s,x:()=>o});var i=r(6540);const a={},t=i.createContext(a);function s(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);