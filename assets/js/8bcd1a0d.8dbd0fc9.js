"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1030],{9602:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var s=t(4848),r=t(8453);const i={},l="06 \u65e0\u7ebf\u7f51\u5361 RTL8723BS",c={id:"linux/\u5168\u5fd7T113/rtl8723bs",title:"06 \u65e0\u7ebf\u7f51\u5361 RTL8723BS",description:"RTL8723BS\u9a71\u52a8\u6587\u4ef6",source:"@site/docs/linux/\u5168\u5fd7T113/06_rtl8723bs.md",sourceDirName:"linux/\u5168\u5fd7T113",slug:"/linux/\u5168\u5fd7T113/rtl8723bs",permalink:"/docs/linux/\u5168\u5fd7T113/rtl8723bs",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/linux/\u5168\u5fd7T113/06_rtl8723bs.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"05 \u9a71\u52a8ST7701S RGB\u5c4f\u5e55",permalink:"/docs/linux/\u5168\u5fd7T113/ST7701S"},next:{title:"\u6811\u8393\u6d3e\u5b89\u88c5docker",permalink:"/docs/linux/\u6811\u8393\u6d3e/docker\u5b89\u88c5"}},a={},d=[{value:"1.\u6dfb\u52a0\u9a71\u52a8\u6587\u4ef6",id:"1\u6dfb\u52a0\u9a71\u52a8\u6587\u4ef6",level:2},{value:"Kconfig",id:"kconfig",level:3},{value:"Makefile",id:"makefile",level:3},{value:"2.\u6dfb\u52a0\u9a71\u52a8",id:"2\u6dfb\u52a0\u9a71\u52a8",level:2},{value:"3.\u4fee\u6539\u7cfb\u7edf\u542f\u52a8\u6302\u8f7d\u7684\u6a21\u5757",id:"3\u4fee\u6539\u7cfb\u7edf\u542f\u52a8\u6302\u8f7d\u7684\u6a21\u5757",level:2},{value:"5.\u8bbe\u5907\u6811\u914d\u7f6e",id:"5\u8bbe\u5907\u6811\u914d\u7f6e",level:2},{value:"5.\u542f\u52a8\u6d4b\u8bd5",id:"5\u542f\u52a8\u6d4b\u8bd5",level:2},{value:"\u5e38\u89c1\u7684\u6d4b\u8bd5\u6307\u4ee4",id:"\u5e38\u89c1\u7684\u6d4b\u8bd5\u6307\u4ee4",level:3}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"06-\u65e0\u7ebf\u7f51\u5361-rtl8723bs",children:"06 \u65e0\u7ebf\u7f51\u5361 RTL8723BS"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(2207).A+"",children:"RTL8723BS\u9a71\u52a8\u6587\u4ef6"})}),"\n",(0,s.jsx)(e.h2,{id:"1\u6dfb\u52a0\u9a71\u52a8\u6587\u4ef6",children:"1.\u6dfb\u52a0\u9a71\u52a8\u6587\u4ef6"}),"\n",(0,s.jsx)(e.p,{children:"\u9a71\u52a8\u5b58\u653e\u8def\u5f84\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"lichee/linux-5.4/drivers/net/wireless/rtl8723ds\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(4225).A+"",width:"1034",height:"806"})}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u6539wireless\u4e0b\u7684kconfig\u548cMakefile"}),"\n",(0,s.jsx)(e.h3,{id:"kconfig",children:"Kconfig"}),"\n",(0,s.jsx)(e.p,{children:"\u589e\u52a0\u4e00\u884c8723bs\u7684kconfig"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:'source "drivers/net/wireless/rtl8723bs/Kconfig"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(7978).A+"",width:"1014",height:"564"})}),"\n",(0,s.jsx)(e.h3,{id:"makefile",children:"Makefile"}),"\n",(0,s.jsx)(e.p,{children:"\u589e\u52a0\u4e00\u884c8723bs"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"obj-$(CONFIG_RTL8723BS)   += rtl8723bs/\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(4163).A+"",width:"886",height:"627"})}),"\n",(0,s.jsx)(e.h2,{id:"2\u6dfb\u52a0\u9a71\u52a8",children:"2.\u6dfb\u52a0\u9a71\u52a8"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"make kernel_menuconfig\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(4764).A+"",width:"1248",height:"848"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"make menuconfig \n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(6389).A+"",width:"1506",height:"849"})}),"\n",(0,s.jsx)(e.h2,{id:"3\u4fee\u6539\u7cfb\u7edf\u542f\u52a8\u6302\u8f7d\u7684\u6a21\u5757",children:"3.\u4fee\u6539\u7cfb\u7edf\u542f\u52a8\u6302\u8f7d\u7684\u6a21\u5757"}),"\n",(0,s.jsx)(e.p,{children:"\u8fd9\u548c\u6bcf\u4e00\u4e2a\u4eba\u7684\u7528\u7684\u677f\u7ea7\u652f\u6301\u5305\u6709\u5173\uff0c\u8fd9\u91cc\u7684\u8def\u5f84\u662f\u6211\u7684\u677f\u6781\u5305\u8def\u5f84"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"target/allwinner/t113-cloud_86/busybox-init-base-files/etc/init.d/rc.modules\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(9662).A+"",width:"838",height:"563"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"/sbin/insmod /lib/modules/5.4.61/8723bs.ko\n"})}),"\n",(0,s.jsx)(e.h2,{id:"5\u8bbe\u5907\u6811\u914d\u7f6e",children:"5.\u8bbe\u5907\u6811\u914d\u7f6e"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(5447).A+"",width:"359",height:"270"})}),"\n",(0,s.jsx)(e.p,{children:"\u5148\u67e5\u770bsdc1\u7684\u914d\u7f6e\uff0cwifi\u662f\u6302\u5728\u8fd9\u4e0a\u9762\u7684"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dts",children:'sdc1_pins_a: sdc1@0 {\r\n    pins = "PG0", "PG1", "PG2",\r\n            "PG3", "PG4", "PG5";\r\n    function = "sdc1";\r\n    drive-strength = <30>;\r\n    bias-pull-up;\r\n};\r\n\r\nsdc1_pins_b: sdc1@1 {\r\n    pins = "PG0", "PG1", "PG2",\r\n            "PG3", "PG4", "PG5";\r\n        function = "sdc1";\r\n};\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u5f00\u542fuart1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dts",children:'&uart1 {\r\n\tpinctrl-names = "default", "sleep";\r\n\tpinctrl-0 = <&uart1_pins_a>;\r\n\tpinctrl-1 = <&uart1_pins_b>;\r\n\tstatus = "okay";\r\n};\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u914d\u7f6ewifi"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dts",children:'\trfkill: rfkill@0 {\r\n\t\tcompatible    = "allwinner,sunxi-rfkill";\r\n\t\tchip_en;\r\n\t\tpower_en;\r\n\t\tpinctrl-0 = <&wlan_pins_a>;\r\n\t\tpinctrl-names = "default";\r\n\t\tstatus        = "okay";\r\n\r\n\t\twlan: wlan@0 {\r\n\t\t\tcompatible    = "allwinner,sunxi-wlan";\r\n\t\t\tclock-names = "32k-fanout1";\r\n\t\t\tclocks = <&ccu CLK_FANOUT1_OUT>;\r\n\t\t\twlan_busnum    = <0x1>;\r\n\t\t\t//wlan_regon    = <&pio PG 12 GPIO_ACTIVE_HIGH>;\r\n\t\t\t//wlan_hostwake  = <&pio PG 10 GPIO_ACTIVE_HIGH>;\r\n\t\t\t/*wlan_power    = "VCC-3V3";*/\r\n\t\t\t/*wlan_power_vol = <3300000>;*/\r\n\t\t\t/*interrupt-parent = <&pio>;\r\n\t\t\t//interrupts = < PG 10 IRQ_TYPE_LEVEL_HIGH>;*/\r\n\t\t\twakeup-source;\r\n\r\n\t\t};\r\n\r\n\t\tbt: bt@0 {\r\n\t\t\tcompatible    = "allwinner,sunxi-bt";\r\n\t\t\tpinctrl-0 = <&wlan_pins_a>;\r\n\t\t\tpinctrl-names = "default";\r\n\t\t\tclock-names = "32k-fanout1";\r\n\t\t\tclocks = <&ccu CLK_FANOUT1_OUT>;\r\n\t\t\t/*bt_power_num = <0x01>;*/\r\n\t\t\t/*bt_power      = "axp803-dldo1";*/\r\n\t\t\t/*bt_io_regulator = "axp803-dldo1";*/\r\n\t\t\t/*bt_io_vol = <3300000>;*/\r\n\t\t\t/*bt_power_vol = <330000>;*/\r\n\t\t\tbt_rst_n      = <&pio PG 12 GPIO_ACTIVE_LOW>;\r\n\t\t\tstatus        = "okay";\r\n\t\t};\r\n\t};\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(1216).A+"",width:"764",height:"773"})}),"\n",(0,s.jsx)(e.h2,{id:"5\u542f\u52a8\u6d4b\u8bd5",children:"5.\u542f\u52a8\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:t(5417).A+"",width:"665",height:"372"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5e38\u89c1\u7684\u6d4b\u8bd5\u6307\u4ee4",children:"\u5e38\u89c1\u7684\u6d4b\u8bd5\u6307\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"root@TinaLinux:/# wifi_scan_results_test\r\n\r\n*********************************\r\n***Start scan!***\r\n*********************************\r\nbssid / frequency / signal level / flags / ssid\r\n1c:1f:f1:bb:6c:68       2437    -69     [WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]ChinaUnicom-3LRNAS\r\n00:78:12:01:c3:67       2432    -91     [WPA2-PSK-CCMP][ESS]    243\r\n******************************\r\nWifi get_scan_results: Success!\r\n******************************\r\n\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"root@TinaLinux:/# wifi_connect_ap_test ChinaUnicom-3LRNAS 244244244\r\n==================================\r\nConnecting to the network(ChinaUnicom-3LRNAS)......\r\n[  135.285527] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready\r\nConnected to the AP(ChinaUnicom-3LRNAS)\r\nGetting ip address(ChinaUnicom-3LRNAS)......\r\nudhcpc: started, v1.27.2\r\nudhcpc: sending discover\r\nudhcpc: sending select for 192.168.101.63\r\nudhcpc: lease of 192.168.101.63 obtained, lease time 86400\r\nWifi connect ap : Success!\r\n==================================\r\nroot@TinaLinux:/# /usr/sbin/odhcp6c-update: line 165: flock: not found\r\n/usr/sbin/odhcp6c-update: line 165: flock: not found\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},2207:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/files/rtl8723bs-a7f2bb0fa02d133bf5ddf630adb30ad7.zip"},4225:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_1-e3e01777fecf82d92762db0c7fb0b31f.png"},7978:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_2-427c339724bacade5dd4a7b533eb16f0.png"},4163:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_3-59560408559a1dcf2eeca6a18b35b616.png"},4764:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_4-147eda87c89176af2f1d2b6c9377cb77.png"},6389:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_5-aa29081752ff65f98a4297e7e44f0c7b.png"},9662:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_6-cd458c917fd0a21427db373cdbd6b9f9.png"},5447:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_7-918e9630af8361b87d7cc59ab6e6dd3b.png"},1216:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_8-e72ac6157394cd1e3740198182b856fe.png"},5417:(n,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/rtl8723_9-a63934d8ee9225e35076864ab8936973.png"},8453:(n,e,t)=>{t.d(e,{R:()=>l,x:()=>c});var s=t(6540);const r={},i=s.createContext(r);function l(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);