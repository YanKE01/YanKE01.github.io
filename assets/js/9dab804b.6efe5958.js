"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7775],{413:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>t,metadata:()=>d,toc:()=>a});var i=e(4848),s=e(8453);const t={},c="esp_lcd\u7ed8\u5236\u5b57\u7b26",d={id:"espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_lcd_drawmap_font",title:"esp_lcd\u7ed8\u5236\u5b57\u7b26",description:"\u672c\u6587\u6240\u4f7f\u7528\u7684\u8f6f\u786c\u4ef6:",source:"@site/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_lcd_drawmap_font.md",sourceDirName:"espressif/\u4e2a\u4eba\u5b66\u4e60/IDF",slug:"/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_lcd_drawmap_font",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_lcd_drawmap_font",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_lcd_drawmap_font.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ESP CAMERA\u5b66\u4e60",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/esp_camera"},next:{title:"\u767e\u5ea6\u56fe\u50cf\u8bc6\u522b",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/IDF/http_baidu"}},l={},a=[{value:"1.\u5b57\u7b26\u53d6\u6a21",id:"1\u5b57\u7b26\u53d6\u6a21",level:3},{value:"2.\u5355\u4e2a\u70b9\u7ed8\u5236\u65b9\u5f0f\uff1a",id:"2\u5355\u4e2a\u70b9\u7ed8\u5236\u65b9\u5f0f",level:3},{value:"3.buffer\u7ed8\u5236\u7684\u65b9\u5f0f",id:"3buffer\u7ed8\u5236\u7684\u65b9\u5f0f",level:3},{value:"4.\u6d4b\u8bd5\u7ed3\u679c",id:"4\u6d4b\u8bd5\u7ed3\u679c",level:3}];function x(n){const r={a:"a",code:"code",h1:"h1",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h1,{id:"esp_lcd\u7ed8\u5236\u5b57\u7b26",children:"esp_lcd\u7ed8\u5236\u5b57\u7b26"}),"\n",(0,i.jsx)(r.p,{children:"\u672c\u6587\u6240\u4f7f\u7528\u7684\u8f6f\u786c\u4ef6:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"idf master"}),"\n",(0,i.jsx)(r.li,{children:"st7789 1.4 inch"}),"\n",(0,i.jsx)(r.li,{children:"esp_lcd \u9a71\u52a8"}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"1\u5b57\u7b26\u53d6\u6a21",children:"1.\u5b57\u7b26\u53d6\u6a21"}),"\n",(0,i.jsx)(r.p,{children:"\u5728\u7ed8\u5236\u4e4b\u524d\uff0c\u9700\u8981\u5bf9\u5b57\u7b26\u8fdb\u884c\u53d6\u6a21\uff0c\u672c\u6587\u4ee5\u5b57\u7b26A\u4e3a\u4f8b\uff1a"}),"\n",(0,i.jsxs)(r.p,{children:["\u6253\u5f00\u7ed8\u5236\u5de5\u5177\uff1a",(0,i.jsx)(r.a,{href:"https://www.zhetao.com/fontarray.html",children:"\u5355\u7247\u673a-LCD-LED-OLED\u4e2d\u6587\u70b9\u9635\u751f\u6210\u8f6f\u4ef6\r\n"})]}),"\n",(0,i.jsxs)(r.p,{children:["\u4ee5\u5b57\u9ad8\u4e3a16\uff0c\u5b57\u5217\u4e3a2\u4e3a\u4f8b\uff0c\u8bbe\u7f6e\u8f6f\u4ef6\uff1a\r\n",(0,i.jsx)(r.img,{src:e(1213).A+"",width:"1353",height:"728"})]}),"\n",(0,i.jsx)(r.p,{children:"\u751f\u6210\u5b57\u5e93\uff1a"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"\u52170\uff1a{0x00, 0x00, 0x0e, 0x1e, 0x1f, 0x3f, 0x3b, 0x3b, 0x73, 0x7f, 0x7f, 0xe1, 0xe0, 0xc0, 0x00, 0x00}\r\n\u52171\uff1a{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0xc0, 0xc0, 0xc0, 0xe0, 0xe0, 0x00, 0x00}\r\n\r\nstatic const unsigned char bitmap_bytes[] = {\r\n    0x00, 0x00, \r\n    0x00, 0x00, \r\n    0x0e, 0x00, \r\n    0x1e, 0x00, \r\n    0x1f, 0x00, \r\n    0x3f, 0x00, \r\n    0x3b, 0x00, \r\n    0x3b, 0x80, \r\n    0x73, 0x80, \r\n    0x7f, 0xc0, \r\n    0x7f, 0xc0, \r\n    0xe1, 0xc0, \r\n    0xe0, 0xe0, \r\n    0xc0, 0xe0, \r\n    0x00, 0x00, \r\n    0x00, 0x00\r\n};\r\n\r\nstatic const unsigned char bitmap_bit_bytes[] = {\r\n    0b00000000, 0b00000000, \r\n    0b00000000, 0b00000000, \r\n    0b00001110, 0b00000000, \r\n    0b00011110, 0b00000000, \r\n    0b00011111, 0b00000000, \r\n    0b00111111, 0b00000000, \r\n    0b00111011, 0b00000000, \r\n    0b00111011, 0b10000000, \r\n    0b01110011, 0b10000000, \r\n    0b01111111, 0b11000000, \r\n    0b01111111, 0b11000000, \r\n    0b11100001, 0b11000000, \r\n    0b11100000, 0b11100000, \r\n    0b11000000, 0b11100000, \r\n    0b00000000, 0b00000000, \r\n    0b00000000, 0b00000000\r\n};\n"})}),"\n",(0,i.jsx)(r.p,{children:"\u8fd9\u6837\u6211\u4eec\u5c31\u77e5\u9053\u54ea\u91cc\u9700\u8981\u7ed8\u5236\u50cf\u7d20\uff0c\u54ea\u91cc\u4e0d\u8981\u7ed8\u5236\u50cf\u7d20\u3002"}),"\n",(0,i.jsx)(r.p,{children:"\u4e0b\u9762\u8fd9\u5f20\u56fe\u53ef\u80fd\u66f4\u4e3a\u6e05\u6670"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{src:e(198).A+"",width:"494",height:"304"})}),"\n",(0,i.jsx)(r.h3,{id:"2\u5355\u4e2a\u70b9\u7ed8\u5236\u65b9\u5f0f",children:"2.\u5355\u4e2a\u70b9\u7ed8\u5236\u65b9\u5f0f\uff1a"}),"\n",(0,i.jsx)(r.p,{children:"\u9996\u5148\uff0c\u5148\u5199\u5355\u70b9\u7ed8\u5236\u7684\u51fd\u6570"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"uint16_t POINT_COLOR = swap_hex(rgb565(255, 255, 255)); // \u753b\u7b14\u989c\u8272\r\nuint16_t BACK_COLOR = swap_hex(rgb565(0, 0, 0));        // \u80cc\u666f\u8272\r\n\r\nvoid lcd_draw_point(int x, int y)\r\n{\r\n    esp_lcd_panel_draw_bitmap(lcd_panel, x, y, x + 1, y + 1, &POINT_COLOR);\r\n}\r\n\n"})}),"\n",(0,i.jsx)(r.p,{children:"\u63a5\u4e0b\u6765\uff0c\u6309\u7167\u5b57\u6a21\u4f4d\u7f6e\uff0c\u8fdb\u884c\u4e0a\u8272"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"void app_main(void)\r\n{\r\n    // Initialize button that will trigger HID reports\r\n    const gpio_config_t boot_button_config = {\r\n        .pin_bit_mask = BIT64(APP_BUTTON),\r\n        .mode = GPIO_MODE_INPUT,\r\n        .intr_type = GPIO_INTR_DISABLE,\r\n        .pull_up_en = true,\r\n        .pull_down_en = false,\r\n    };\r\n    ESP_ERROR_CHECK(gpio_config(&boot_button_config));\r\n\r\n    ESP_ERROR_CHECK(lcd_init(lcd_config));\r\n    lcd_fullclean(lcd_panel, lcd_config, rgb565(0, 0, 0));\r\n    for (int i = 0; i < 16; i++)\r\n    {\r\n        //i\u4ee3\u8868\u884c\r\n        for (int j = 0; j < 2; j++)\r\n        {\r\n            // \u7b2cj\u5217\r\n            for (int k = 0; k < 8; k++)\r\n            {\r\n                //\u5148\u83b7\u53d6\u9ad8\u4f4d\r\n                if (temp & 0x80)\r\n                {   \r\n                    //\u5982\u679c\u4e3a1\uff0c\u8868\u660e\u9700\u8981\u7ed8\u5236\r\n                    lcd_draw_point(100 + j * 8 + k, 100 + i);\r\n                }\r\n                temp <<= 1;\r\n            }\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(r.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u6bb5\u4ee3\u7801\u7684\u6838\u5fc3\u5c31\u662f\u5c06\u6bcf\u4e00\u4e2auint8_t\u7684\u6570\u636e\u6309\u7167\u5176\u4e8c\u8fdb\u5236\u76840\u4e0e1\u5224\u65ad\u65f6\u5019\u7ed8\u5236\u70b9"}),"\n",(0,i.jsx)(r.h3,{id:"3buffer\u7ed8\u5236\u7684\u65b9\u5f0f",children:"3.buffer\u7ed8\u5236\u7684\u65b9\u5f0f"}),"\n",(0,i.jsx)(r.p,{children:"buffer\u7ed8\u5236\u7684\u65b9\u5f0f\u548c\u6211\u4eec\u4e4b\u524d\u7684\u535a\u5ba2\u4e2d\u63d0\u5230\u7684\u5237\u5c4f\u5dee\u4e0d\u591a\uff0c\u90fd\u662f\u6309\u7167\u4e00\u5217\u7684\u65b9\u5f0f\u6765\u5237\u3002"}),"\n",(0,i.jsx)(r.p,{children:"\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2abuffer\uff0c\u5728\u9700\u8981\u7ed8\u5236\u7684\u5730\u65b9\u4fdd\u5b58\u989c\u8272"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"void app_main(void)\r\n{\r\n    ESP_ERROR_CHECK(lcd_init(lcd_config));\r\n    lcd_fullclean(lcd_panel, lcd_config, rgb565(0, 0, 0));\r\n    uint16_t buffer[16][2 * 8]; //\u521b\u5efabuffer\r\n    memset(buffer, BACK_COLOR, sizeof(buffer));\r\n    for (int i = 0; i < 16; i++)\r\n    {\r\n        for (int j = 0; j < 2; j++)\r\n        {\r\n            // \u7b2cj\u5217\r\n            uint8_t temp = bitmap_bytes[i * 2 + j];\r\n            for (int k = 0; k < 8; k++)\r\n            {\r\n                if (temp & 0x80)\r\n                {\r\n                    buffer[j * 8 + k][i] = POINT_COLOR; //\u4fdd\u5b58\u989c\u8272\r\n                    lcd_draw_point(100 + j * 8 + k, 100 + i);\r\n                }\r\n                else\r\n                {\r\n                    buffer[j * 8 + k][i] = BACK_COLOR; \r\n                }\r\n                temp <<= 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    for (int i = 0; i < 16; i++)\r\n    {\r\n        //\u6309\u7167\u4e00\u884c\u7684\u65b9\u5f0f\u5237buffer\r\n        esp_lcd_panel_draw_bitmap(lcd_panel, 150 + i, 150, 150 + i + 1, 150 + 16, &buffer[i]);\r\n    }\r\n}\r\n\n"})}),"\n",(0,i.jsx)(r.h3,{id:"4\u6d4b\u8bd5\u7ed3\u679c",children:"4.\u6d4b\u8bd5\u7ed3\u679c"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{src:e(4708).A+"",width:"2128",height:"791"})})]})}function o(n={}){const{wrapper:r}={...(0,s.R)(),...n.components};return r?(0,i.jsx)(r,{...n,children:(0,i.jsx)(x,{...n})}):x(n)}},198:(n,r,e)=>{e.d(r,{A:()=>i});const i=e.p+"assets/images/font_a-2473f214fc9bd89ab3988e0a09f7c523.png"},1213:(n,r,e)=>{e.d(r,{A:()=>i});const i=e.p+"assets/images/font_qumo-fec2f684d9db4d6345b412bc464cdc58.png"},4708:(n,r,e)=>{e.d(r,{A:()=>i});const i=e.p+"assets/images/lcd_font_show-0a967ac04b1823af4b4f34aafb2e06ab.jpg"},8453:(n,r,e)=>{e.d(r,{R:()=>c,x:()=>d});var i=e(6540);const s={},t=i.createContext(s);function c(n){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function d(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(t.Provider,{value:r},n.children)}}}]);