"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[172],{8357:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var n=t(4848),s=t(8453);const o={},i="\u767e\u5ea6\u8bed\u97f3\u5408\u6210",a={id:"espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO/baidu_tts",title:"\u767e\u5ea6\u8bed\u97f3\u5408\u6210",description:"",source:"@site/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO/baidu_tts.md",sourceDirName:"espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO",slug:"/espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO/baidu_tts",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO/baidu_tts",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO/baidu_tts.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"AUDIO PDM NS4150",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO/audio_pdm"},next:{title:"ESP_SR\u4f7f\u7528",permalink:"/docs/espressif/\u4e2a\u4eba\u5b66\u4e60/\u5916\u8bbe/AUDIO/esp_sr"}},p={},c=[];function d(e){const r={code:"code",h1:"h1",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"\u767e\u5ea6\u8bed\u97f3\u5408\u6210",children:"\u767e\u5ea6\u8bed\u97f3\u5408\u6210"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-python",children:"import requests\r\nimport pygame\r\nfrom io import BytesIO\r\nfrom urllib.parse import quote\r\n\r\n# \u521d\u59cb\u5316pygame\r\npygame.init()\r\n\r\n# \u8bbe\u7f6e\u97f3\u9891\u53c2\u6570\r\nBUFFER_SIZE = 1024\r\nBIT_RATE = 16\r\nCHANNELS = 1\r\nFREQUENCY = 16000\r\n\r\n# \u521b\u5efa\u97f3\u9891\u8f93\u51fa\r\npygame.mixer.init(FREQUENCY, BIT_RATE, CHANNELS)\r\n\r\ntext = quote(\"\u5929\u4e0b\u7b2c\u4e00\uff0c\u76f2\u5ba1\u5fc5\u8fc7\")\r\n\r\n# HTTP\u8bf7\u6c42\u7684\u76f8\u5173\u4fe1\u606f\r\nurl = \"https://tsn.baidu.com/text2audio\"\r\npayload = 'tex='+text+'&tok=24.d0bb79195bdcb0a12ef9b34b684a8822.2592000.1715321592.282335-60592936&cuid=v2xhnwFN6Mnmg6vN5TV1Qitp4RpyOaIk&ctp=1&lan=zh&spd=5&pit=5&vol=5&per=4&aue=3'\r\n\r\nheaders = {\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n    'Accept': '*/*'\r\n}\r\n\r\n# \u53d1\u9001HTTP\u8bf7\u6c42\u83b7\u53d6\u97f3\u9891\u6570\u636e\r\nresponse = requests.request(\"POST\", url, headers=headers, data=payload)\r\n\r\n# \u68c0\u67e5\u662f\u5426\u6210\u529f\u83b7\u53d6\u97f3\u9891\u6570\u636e\r\nif response.status_code == 200:\r\n    # \u521b\u5efa\u97f3\u9891\u5bf9\u8c61\r\n    sound = pygame.mixer.Sound(BytesIO(response.content))\r\n\r\n    # \u64ad\u653e\u97f3\u9891\r\n    sound.play()\r\n\r\n    # \u7b49\u5f85\u97f3\u9891\u64ad\u653e\u5b8c\u6210\r\n    while pygame.mixer.get_busy():\r\n        pygame.time.Clock().tick(10)\r\n\r\nelse:\r\n    print(\"Failed to get audio data:\", response.status_code)\n"})})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>a});var n=t(6540);const s={},o=n.createContext(s);function i(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);