<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-espressif/个人学习/DL/tflite_1dcnn" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">TFLite 1DCNN | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yanke01.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://yanke01.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://yanke01.github.io/docs/espressif/个人学习/DL/tflite_1dcnn"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TFLite 1DCNN | My Site"><meta data-rh="true" name="description" content="使用tflite完成1dcnn模型推理，本文为1*2048的序列"><meta data-rh="true" property="og:description" content="使用tflite完成1dcnn模型推理，本文为1*2048的序列"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yanke01.github.io/docs/espressif/个人学习/DL/tflite_1dcnn"><link data-rh="true" rel="alternate" href="https://yanke01.github.io/docs/espressif/个人学习/DL/tflite_1dcnn" hreflang="en"><link data-rh="true" rel="alternate" href="https://yanke01.github.io/docs/espressif/个人学习/DL/tflite_1dcnn" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f4a20484.css">
<script src="/assets/js/runtime~main.b8385549.js" defer="defer"></script>
<script src="/assets/js/main.d496d33f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">YANKEEE</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/YanKE01" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/espressif/个人学习/Components/如何上传包管理器">Espressif</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/espressif/个人学习/Components/如何上传包管理器">个人学习</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/个人学习/Components/如何上传包管理器">Components</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/espressif/个人学习/DL/onnx_runtime">DL</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/espressif/个人学习/DL/onnx_runtime">如何使用onnx模型进行推理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/espressif/个人学习/DL/tflit_micro_mnist">TFLite Micro Mnist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/espressif/个人学习/DL/tflite_1dcnn">TFLite 1DCNN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/espressif/个人学习/DL/tflite_2d">TFLITE CIFAR10</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/espressif/个人学习/DL/tflite_micro_regression">TFLite Micro Regression</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/个人学习/FreeRTOS/任务通知">FreeRTOS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/个人学习/IDF/cmake">IDF</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/个人学习/SoftWare/CI/ci使用">SoftWare</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/个人学习/外设/AT/at_first_use">外设</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/个人学习/驱动芯片/drv10987">驱动芯片</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/其他/idf相关问题">其他</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/espressif/客户支持/adc/adc定时扫描">客户支持</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/code/C and C++/函数指针">Code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/motor/if_cos_strategy">Motor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tools/Docusaurus/问题汇总">Tool</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/linux/CM311/CM311_env">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/graduate/python_ram_usage">读研</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ref">资料备份</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/hardware/元器件/TVS">硬件设计</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/MCU/STM32/cubemx版本问题">MCU</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Espressif</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">个人学习</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DL</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TFLite 1DCNN</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>TFLite 1DCNN</h1>
<p>使用tflite完成1dcnn模型推理，本文为1*2048的序列</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="模型训练">模型训练<a href="#模型训练" class="hash-link" aria-label="Direct link to 模型训练" title="Direct link to 模型训练">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">MyModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">num_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 16*64 维数是16 特征长度是64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">input</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">keras</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Input</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">shape</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2048</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 2048</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> Convolution1D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">16</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> input_shape</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2048</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> padding</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;same&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> activation</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;tanh&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;CONV1&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">input</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 第一层卷积层 4096*1---&gt;256*16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> BatchNormalization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> MaxPooling1D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> strides</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> padding</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;same&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 第三层卷积开始</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> Convolution1D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> padding</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;same&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> activation</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;tanh&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;CONV3&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> MaxPooling1D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> strides</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> padding</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;same&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> Convolution1D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> padding</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;same&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> activation</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;tanh&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;CONV6&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> MaxPooling1D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> strides</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> padding</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;same&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 输出的shape= 64*8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 展平 连接全连接层</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    x </span><span class="token operator">=</span><span class="token plain"> GlobalAveragePooling1D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 由全局平均池化代替全连接层</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    output </span><span class="token operator">=</span><span class="token plain"> Dense</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">num_class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> activation</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;softmax&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model </span><span class="token operator">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">keras</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token builtin" style="color:rgb(189, 147, 249)">input</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> output</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">summary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> model</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">model </span><span class="token operator">=</span><span class="token plain"> MyModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">compile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">optimizer</span><span class="token operator">=</span><span class="token plain">Adam</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">learning_rate</span><span class="token operator">=</span><span class="token number">1e-3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> loss</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;categorical_crossentropy&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  metrics</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;accuracy&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">keras</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Precision</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> tf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">keras</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">metrics</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Recall</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">x_train</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> x_test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y_train</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y_test </span><span class="token operator">=</span><span class="token plain"> train_test_split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">feature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> label</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> test_size</span><span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> random_state</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 切割数据集</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x_train</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y_train</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> batch_size</span><span class="token operator">=</span><span class="token number">256</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> epochs</span><span class="token operator">=</span><span class="token number">300</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> validation_data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x_test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> y_test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">save</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;myModel.h5&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="esp32">ESP32<a href="#esp32" class="hash-link" aria-label="Direct link to ESP32" title="Direct link to ESP32">​</a></h3>
<p>模型用的是conv1d，但是tflite micro里面没有直接的op是addConv1d，但是可以用conv2d的op去做。</p>
<p>本次模型用的op算子如下：</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> static tflite::MicroMutableOpResolver&lt;10&gt; resolver;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 这里需要添加我们模型使用的层</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddReshape() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add reshape failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddMean() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add reshape failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddConv2D() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Conv2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddMaxPool2D() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddTanh() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddMul() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddAdd() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddFullyConnected() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add fullyConnect failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddExpandDims() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add expandDims failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddSoftmax() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add softmax failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其他的基本保持一致了，和之前的sin_wave差不多</p>
<p>完整代码如下：
模型部分：</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;sequence.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;sequence_model.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;tensorflow/lite/micro/micro_mutable_op_resolver.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;tensorflow/lite/micro/micro_interpreter.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;tensorflow/lite/micro/system_setup.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;tensorflow/lite/schema/schema_generated.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;esp_log.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static const char *TAG = &quot;SEQUENCE&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">constexpr int kTensorArenaSize = 262144;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">uint8_t tensor_arena[kTensorArenaSize];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tflite::MicroInterpreter *interpreter = nullptr;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">TfLiteTensor *input = nullptr;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">TfLiteTensor *output = nullptr;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void sequence_model_init()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const tflite::Model *model = tflite::GetModel(sequence_tflite);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (model-&gt;version() != TFLITE_SCHEMA_VERSION)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        MicroPrintf(&quot;Model provided is schema version %d not equal to supported &quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &quot;version %d.&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    model-&gt;version(), TFLITE_SCHEMA_VERSION);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    static tflite::MicroMutableOpResolver&lt;10&gt; resolver;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 这里需要添加我们模型使用的层</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddReshape() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add reshape failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddMean() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add reshape failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddConv2D() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Conv2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddMaxPool2D() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddTanh() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddMul() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddAdd() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add Pool2d failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddFullyConnected() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add fullyConnect failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddExpandDims() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add expandDims failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (resolver.AddSoftmax() != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ESP_LOGI(TAG, &quot;Add softmax failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Create interpreter</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    static tflite::MicroInterpreter static_interpreter(model, resolver, tensor_arena, kTensorArenaSize);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    interpreter = &amp;static_interpreter;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Allocate memory for model tensor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    TfLiteStatus allocate_status = interpreter-&gt;AllocateTensors();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (allocate_status != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        MicroPrintf(&quot;AllocateTensors() failed&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    input = interpreter-&gt;input(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    output = interpreter-&gt;output(0);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void sequence_model_predict(float *pic, int size)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (int i = 0; i &lt; size; i++)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        input-&gt;data.f[i] = pic[i];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    TfLiteStatus invoke_status = interpreter-&gt;Invoke();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (invoke_status != kTfLiteOk)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        MicroPrintf(&quot;Invoke failed on&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (int i = 0; i &lt; 10; i++)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        printf(&quot;%.2f &quot;, output-&gt;data.f[i]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    printf(&quot;\n&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>推理部分：</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;stdio.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;freertos/FreeRTOS.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;freertos/task.h&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;esp_log.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;time.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#include &quot;sequence.h&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">float sequence_data[] = {-0.407, -0.0217, -0.2061, -0.118, -0.0475, -0.5553, -0.065, -0.4234, -0.2192, 0.0099, -0.3293, 0.0591, -0.5334, -0.1855, -0.0205, -0.0851, -0.0746, -0.7964, 0.0672, -0.2575, -0.0591, 0.0432, -0.7402, 0.1225, -0.3785, -0.1435, -0.0814, -0.5867, -0.0329, -0.1179, 0.1881, -0.3457, -0.4953, -0.0156, -0.1167, 0.0228, -0.5765, -0.3937, 0.0502, -0.2741, 0.0252, -0.3667, -0.4948, 0.1031, -0.3258, -0.2515, -0.1857, -0.341, 0.0051, -0.083, -0.1369, -0.1605, -0.3658, -0.311, -0.1155, -0.3169, -0.2639, -0.1941, -0.1387, -0.1367, -0.2205, -0.1093, -0.4233, -0.0713, -0.2201, -0.3087, -0.096, -0.2743, 0.0361, -0.2042, -0.1536, -0.5077, -0.1553, 0.0042, -0.5742, -0.1477, -0.3835, -0.0395, 0.0913, -0.3936, -0.4392, -0.1617, -0.0629, -0.3469, -0.1485, -0.0583, -0.2912, -0.0398, -0.0449, -0.4984, -0.1294, -0.2204, -0.3936, -0.1254, -0.2934, -0.115, 0.0728, -0.21, -0.5018, -0.2882, 0.0107, -0.2454, -0.4296, -0.2673, 0.055, -0.0676, -0.2861, -0.2914, -0.3152, 0.0896, -0.2546, -0.3563, -0.3041, -0.2989, 0.2062, -0.1706, -0.2124, -0.421, -0.2842, 0.02, -0.3919, -0.2295, -0.2272, -0.0316, -0.1311, -0.2466, -0.1541, -0.477, -0.064, -0.1233, -0.3707, -0.183, -0.3493, 0.0857, 0.0257, -0.4191, -0.2385, -0.421, -0.2592, -0.2366, -0.2407, 0.0013, -0.2771, 0.0213, -0.2895, -0.4589, -0.0483, -0.2717, -0.1981, -0.269, -0.1095, -0.24, -0.1056, -0.0614, -0.5974, 0.0796, -0.0854, -0.5443, -0.1852, -0.3049, -0.1483, -0.044, -0.2343, -0.0485, -0.2617, -0.3784, -0.2099, -0.3562, -0.1208, -0.2042, -0.099, 0.0437, -0.3661, -0.2134, -0.2662, -0.2293, -0.2505, -0.3239, -0.1583, -0.2081, 0.1689, -0.3548, -0.369, 0.0191, -0.4213, -0.0595, -0.3409, -0.2868, 0.0026, -0.2613, -0.029, -0.307, -0.2087, -0.2256, -0.3188, -0.254, -0.4491, 0.0497, -0.1669, -0.1029, -0.0747, -0.4137, -0.0802, -0.4695, -0.2249, -0.2988, -0.3068, 0.1682, -0.3282, -0.2381, -0.2913, -0.2111, -0.2745, -0.2373, -0.0876, -0.5255, 0.0141, 0.0276, -0.1872, -0.1744, -0.2704, -0.1285, -0.4474, -0.3032, -0.0728, -0.2265, -0.1172, -0.1146, -0.1977, -0.2973, -0.4241, -0.1579, -0.2727, -0.2866, -0.0429, -0.0798, -0.111, -0.2786, -0.3064, -0.2744, 0.0655, -0.3244, -0.4266, -0.0588, -0.1826, 0.0689, -0.2976, -0.3168, -0.2089, -0.13, -0.1579, -0.5076, -0.1214, -0.1991, 0.056, 0.0307, -0.5158, -0.1398, -0.4086, -0.2505, 0.0925, -0.6275, -0.0873, 0.0118, -0.2512, -0.0119, -0.6213, -0.2413, -0.2049, -0.1094, -0.0924, -0.4818, 0.0943, -0.2849, -0.1674, -0.1044, -0.439, -0.2201, -0.226, -0.1905, -0.2744, -0.0924, -0.2498, -0.3653, -0.0432, -0.0412, -0.4066, -0.3068, -0.2624, -0.2349, 0.1191, -0.3514, -0.0711, -0.1138, -0.4691, -0.0256, -0.3027, -0.1383, -0.2804, -0.2678, -0.0281, -0.544, 0.1116, -0.221, -0.6668, 0.0283, -0.2989, -0.2299, -0.0684, -0.2512, -0.2507, -0.1738, -0.1364, -0.2134, -0.2006, -0.3159, -0.2519, -0.0126, -0.1546, -0.3612, -0.1928, -0.1953, -0.1963, -0.1775, -0.3607, -0.2827, -0.1516, -0.1375, -0.2195, -0.2633, -0.1408, -0.2601, -0.3523, -0.0982, -0.2062, -0.208, -0.0551, -0.4076, -0.1677, -0.048, -0.4153, -0.1203, -0.1857, -0.1969, -0.0991, -0.4443, -0.0207, -0.26, -0.424, -0.0204, -0.36, -0.0336, -0.339, -0.2649, -0.0593, -0.525, 0.0143, -0.2037, -0.2389, -0.2721, -0.115, 0.0352, -0.4812, -0.1212, -0.2176, -0.1711, -0.2336, -0.3078, -0.086, -0.2483, -0.132, -0.2053, -0.2585, -0.3915, -0.137, -0.1043, -0.4193, -0.0664, -0.2065, -0.1176, -0.1255, -0.3823, -0.0951, -0.4109, -0.1157, -0.0567, -0.5087, -0.1917, -0.2227, -0.0879, -0.197, -0.3212, -0.2392, -0.1589, -0.1809, -0.3187, -0.0345, -0.2619, -0.0211, -0.1411, -0.4145, -0.1161, -0.4156, -0.2118, -0.0645, -0.2123, -0.2152, -0.2046, -0.2192, -0.1908, -0.1859, -0.2702, -0.1511, -0.3204, -0.2278, 0.0541, -0.3103, -0.2559, -0.0633, -0.3034, -0.2264, -0.3526, -0.2628, -0.0748, -0.2382, -0.1134, -0.1066, -0.1617, -0.225, -0.2216, -0.2193, -0.2292, -0.0329, -0.2073, -0.2127, -0.2005, -0.3675, -0.1373, -0.4151, -0.1581, -0.0846, -0.6382, -0.1217, -0.0835, -0.1542, -0.1605, -0.2496, -0.1983, -0.2212, -0.1284, -0.4051, 0.0814, -0.0514, -0.2587, 0.142, -0.4745, -0.3043, -0.2441, -0.3643, -0.0656, -0.2218, -0.0752, -0.2579, -0.2675, -0.0726, -0.2985, -0.1049, -0.1828, -0.4023, -0.0224, 0.0001, -0.3154, -0.2451, -0.23, -0.2033, -0.0701, -0.4755, -0.3742, -0.0393, -0.2173, 0.01, -0.2588, -0.3674, 0.0078, -0.3556, -0.1741, -0.1018, -0.5256, 0.1031, -0.1115, -0.3006, 0.1538, -0.6144, -0.0755, -0.3556, -0.4861, 0.3103, -0.863, 0.2661, -0.0141, -0.6531, 0.2131, -0.717, -0.0156, -0.1686, -0.4489, -0.1824, -0.2481, -0.0594, -0.2302, -0.104, -0.3239, -0.1784, -0.2412, -0.2629, -0.2812, -0.0085, -0.2738, -0.2975, 0.2835, -0.4293, -0.2783, -0.2803, -0.2346, -0.2443, -0.1855, 0.0469, -0.5365, -0.2302, -0.2491, -0.1486, -0.1533, -0.2444, -0.1889, -0.5007, 0.051, -0.1113, -0.1764, -0.2388, -0.4137, 0.1155, -0.494, -0.2093, -0.025, -0.4619, 0.0917, -0.0448, -0.0777, -0.3188, -0.3746, -0.1381, -0.173, -0.0845, -0.3049, -0.1555, -0.3143, -0.2368, -0.0619, -0.3295, -0.3072, -0.3519, -0.0649, -0.3092, -0.3037, 0.0795, -0.3204, 0.061, -0.2525, -0.3659, -0.0582, -0.4517, 0.1288, -0.3144, -0.3395, 0.011, -0.1886, 0.0703, -0.4934, -0.2666, -0.1389, -0.476, -0.1843, -0.2091, -0.1113, -0.1356, -0.1379, -0.3166, -0.3498, -0.0968, -0.4527, -0.0204, -0.0526, -0.3177, -0.1056, -0.2782, -0.1067, -0.4424, -0.1487, -0.1017, -0.3704, -0.1257, -0.233, 0.0061, -0.1886, -0.2046, -0.1388, -0.2728, -0.2198, -0.3279, -0.2398, -0.078, -0.1548, -0.2451, -0.1237, -0.2574, -0.3729, -0.2435, -0.1741, -0.2678, -0.3096, -0.1166, -0.0048, -0.2278, -0.2462, -0.1834, -0.3556, -0.2135, -0.0927, -0.092, -0.1476, -0.179, -0.0145, -0.1649, -0.4859, -0.0801, -0.1877, -0.4511, 0.0108, -0.23, -0.1597, -0.2326, -0.2499, -0.1855, -0.3324, -0.1127, -0.4957, -0.1727, -0.1708, -0.1658, 0.063, -0.4286, -0.1955, -0.1867, -0.1399, -0.3238, -0.3804, -0.0185, -0.2003, -0.0122, -0.1936, -0.3464, -0.2172, -0.2907, -0.0742, -0.0578, -0.1835, -0.2779, -0.1502, -0.0034, -0.1213, -0.2912, -0.335, -0.1802, -0.3548, -0.3952, -0.189, -0.1321, -0.2389, -0.326, -0.1207, -0.3393, -0.2555, -0.2972, -0.3573, 0.1315, -0.1774, -0.1038, -0.1973, -0.334, -0.071, -0.4525, 0.045, -0.2011, -0.3714, 0.167, -0.5591, -0.0396, -0.0737, -0.4663, 0.0535, -0.4064, -0.4544, -0.1601, -0.139, -0.2242, 0.0675, -0.346, -0.5204, -0.1539, -0.507, 0.0607, -0.1545, -0.5336, -0.0588, -0.0724, -0.246, -0.2719, -0.1462, -0.3809, -0.0914, -0.11, -0.2531, -0.0756, -0.297, -0.0955, -0.2285, -0.2287, -0.1917, -0.2722, -0.1069, -0.2787, -0.2971, -0.1086, -0.1727, -0.6269, -0.2175, -0.1487, -0.5138, 0.0284, -0.267, -0.3538, -0.0906, -0.4079, 0.0327, 0.053, -0.3458, -0.0375, -0.3303, -0.3415, 0.03, -0.2594, -0.2193, -0.0569, -0.3092, -0.1642, -0.1775, -0.4506, -0.1972, -0.1843, -0.1406, -0.1895, -0.2722, -0.4312, -0.1849, -0.0743, -0.5273, -0.1036, -0.2486, -0.2388, -0.1943, -0.2196, -0.1157, -0.3439, -0.0067, -0.3717, -0.2833, -0.1432, -0.1151, -0.0231, -0.1832, -0.21, -0.4317, -0.0108, -0.1576, -0.0433, -0.1962, -0.3583, -0.1906, -0.294, 0.0646, -0.4707, -0.3859, -0.123, -0.3098, -0.0525, -0.1425, -0.6689, -0.1793, 0.0028, -0.4339, 0.1361, -0.3044, -0.3529, -0.225, -0.2455, -0.0148, -0.1492, -0.118, -0.4782, -0.0334, -0.1971, -0.2645, 0.062, -0.2478, -0.1376, -0.4308, -0.0353, -0.093, -0.4825, 0.0009, -0.1987, -0.3842, -0.0456, -0.2354, -0.4906, -0.0705, -0.3431, -0.1376, -0.0119, -0.2989, -0.3435, -0.2065, -0.1119, -0.6102, 0.3574, -0.4464, -0.2831, 0.2582, -0.6921, 0.3518, -0.5598, -0.1262, 0.139, -0.7383, 0.0986, -0.2529, -0.3913, 0.0279, -0.1092, -0.4107, -0.067, -0.2673, -0.2727, -0.2569, -0.1535, -0.0039, -0.4772, 0.0198, -0.3221, -0.1663, -0.2024, -0.3953, -0.0017, -0.5869, -0.094, -0.0832, -0.1247, -0.1675, -0.3875, 0.0091, -0.3496, -0.194, -0.1758, -0.2933, -0.1138, -0.09, -0.1434, -0.1895, -0.2881, -0.2718, -0.1873, -0.4756, -0.0393, -0.1955, -0.2457, -0.1275, -0.3173, -0.103, -0.3266, -0.1746, -0.3992, -0.175, -0.1203, -0.1483, -0.0438, -0.514, 0.0417, -0.2164, -0.2534, -0.2502, -0.3619, -0.0213, -0.3309, 0.1007, -0.2845, -0.2617, 0.0034, -0.3701, -0.1698, -0.3598, -0.1223, -0.0469, -0.2789, -0.2145, -0.166, -0.2242, -0.2563, -0.2959, -0.41, -0.2616, -0.0749, -0.007, -0.1798, -0.3373, -0.132, -0.2076, -0.3247, -0.3122, -0.3622, -0.012, 0.0161, -0.1813, -0.1741, -0.15, -0.2889, -0.1549, -0.3044, -0.3657, -0.0098, -0.3624, 0.0419, -0.1083, -0.3908, -0.0991, -0.3061, -0.2733, -0.4137, -0.1515, -0.186, -0.1228, -0.1621, -0.2102, -0.2139, -0.4742, 0.2358, -0.4992, -0.6226, 0.1768, -0.2018, 0.2126, -0.1888, -0.6587, -0.0856, -0.0028, -0.2724, -0.4024, -0.144, -0.1031, 0.0443, -0.118, -0.3806, -0.1361, -0.2968, -0.126, -0.3894, -0.324, 0.0682, -0.43, -0.1323, -0.2073, -0.2846, -0.1682, -0.3908, -0.2581, -0.3409, -0.0563, -0.1008, -0.2709, -0.0191, -0.1159, -0.3263, -0.2457, -0.2981, -0.3446, 0.0826, -0.1856, -0.1943, 0.0354, -0.2028, -0.1462, -0.3646, -0.3111, -0.3737, -0.1568, 0.0775, -0.3592, -0.2534, -0.1862, -0.2404, -0.2774, -0.1303, -0.3754, -0.3688, -0.0192, -0.1553, -0.0046, -0.1544, -0.2794, -0.37, 0.1029, -0.2388, -0.6591, 0.0576, -0.2163, -0.1559, -0.0831, -0.1255, -0.2816, -0.2399, -0.1567, -0.4511, -0.0099, -0.2254, -0.1482, -0.0456, -0.2814, -0.0523, -0.4547, -0.0762, -0.3303, -0.6642, 0.3185, -0.2201, -0.3115, -0.0124, -0.3773, -0.1754, -0.2043, -0.2898, -0.3457, -0.1665, 0.0143, -0.3033, -0.2136, -0.1204, -0.2669, -0.0492, -0.3309, -0.4498, -0.1114, -0.1194, 0.013, -0.1072, -0.3678, -0.2467, -0.1564, -0.1148, -0.4036, -0.4698, -0.0931, -0.0147, -0.1775, -0.1909, -0.1598, -0.4441, -0.089, -0.2022, -0.4604, -0.0556, -0.3792, 0.0202, 0.1516, -0.4419, -0.3051, -0.2435, -0.119, -0.1955, -0.262, -0.2001, -0.1544, 0.1136, -0.404, -0.0693, -0.2587, -0.474, 0.0778, -0.6832, 0.7381, -0.8115, -0.982, 1.0, -1.0, 0.3972, -0.6181, -0.6378, 0.3687, -0.7317, 0.4941, -0.582, 0.352, -0.2037, -0.3721, 0.5156, -0.9998, 0.2045, -0.4309, -0.1616, 0.0206, -0.5404, 0.1782, -0.5632, -0.0614, -0.3093, -0.3003, -0.0592, -0.2602, -0.0697, -0.3615, 0.0711, -0.3356, -0.3085, -0.1101, -0.4366, -0.279, -0.2457, -0.0415, -0.2073, -0.1262, -0.2823, -0.1309, -0.1027, -0.5074, -0.096, -0.3224, -0.3054, -0.0906, -0.0332, -0.324, -0.3335, 0.0185, -0.5309, -0.2663, -0.2094, -0.1302, -0.0845, -0.2744, 0.0556, -0.3571, -0.1141, -0.2923, -0.4227, -0.0633, -0.4861, 0.0302, -0.058, -0.4868, -0.0246, -0.1481, -0.2206, -0.4296, -0.2833, -0.058, -0.4187, 0.1641, -0.305, -0.2641, 0.0208, -0.6074, 0.0929, -0.3313, -0.4271, -0.0483, -0.2123, -0.0664, -0.2392, -0.1969, -0.2833, -0.1678, -0.226, -0.2994, -0.1582, -0.351, -0.0231, -0.0434, -0.2513, -0.0703, -0.3734, -0.2472, -0.2347, -0.2895, -0.1593, -0.2958, 0.1128, -0.3454, -0.3476, 0.0204, -0.5255, -0.1791, -0.3158, -0.2913, 0.0945, -0.3033, -0.3345, -0.0426, -0.2267, -0.3696, -0.055, -0.3551, -0.2994, -0.007, -0.2588, -0.1838, -0.0941, -0.2583, -0.3142, -0.1927, -0.2349, -0.1798, -0.1206, -0.2222, -0.0536, -0.2306, -0.1739, -0.186, -0.2784, -0.1685, -0.6891, 0.0271, -0.1295, -0.3772, 0.1621, -0.3872, -0.1597, -0.4519, -0.1236, -0.3175, -0.2252, 0.2077, -0.3936, 0.1561, -0.4384, -0.1048, -0.1417, -0.4216, -0.0886, -0.3542, -0.0591, -0.3595, 0.0242, -0.1459, -0.2347, -0.152, -0.3339, -0.2249, -0.4772, 0.0101, -0.1712, -0.3365, 0.0147, -0.2014, -0.2711, -0.3983, -0.2061, -0.1924, -0.2898, -0.0227, -0.1798, -0.0121, -0.2336, -0.3816, -0.1151, -0.4199, 0.0188, -0.1115, -0.5527, -0.0458, -0.2333, -0.0795, -0.1224, -0.4694, -0.0913, -0.3991, -0.0852, -0.2015, -0.4092, 0.1015, -0.2848, 0.0905, -0.3311, -0.5522, -0.0665, -0.2966, 0.1487, -0.3551, -0.4312, 0.2184, -0.1663, -0.2475, -0.2055, -0.3667, -0.0118, -0.0437, -0.4394, -0.1275, -0.3262, -0.2473, 0.1769, -0.285, -0.562, -0.2449, -0.0894, -0.3278, -0.0365, -0.3217, -0.361, 0.0154, -0.3483, -0.3623, -0.2314, -0.0649, -0.1824, 0.0035, -0.2925, -0.353, 0.0585, -0.2391, -0.1188, -0.465, -0.062, -0.0629, -0.415, 0.0449, -0.3766, -0.2574, -0.2052, 0.0198, -0.2516, -0.5201, -0.0974, -0.3228, 0.0459, -0.1993, -0.3923, -0.2901, -0.3523, -0.1192, -0.1506, -0.0522, -0.3205, -0.3825, -0.1416, -0.0137, -0.1919, -0.4061, -0.1809, -0.1602, 0.0719, -0.3794, -0.3447, 0.0122, -0.475, 0.0544, -0.33, -0.2301, 0.1978, -0.3925, -0.2724, -0.2716, -0.0779, -0.3437, -0.2763, -0.3026, -0.3897, 0.1054, -0.1479, -0.3315, -0.376, -0.0436, -0.222, -0.4261, 0.0487, -0.2199, -0.28, -0.0854, -0.1474, -0.1871, -0.3433, -0.0377, -0.228, -0.2821, -0.0743, -0.3187, 0.0475, -0.1672, -0.3388, -0.1883, -0.3666, -0.254, -0.1785, -0.2269, -0.1522, -0.1937, -0.176, -0.2888, -0.378, -0.1056, -0.3624, -0.1379, -0.1039, -0.2276, -0.0959, -0.2769, -0.0378, -0.384, -0.1381, -0.0801, -0.3916, -0.0069, -0.2112, -0.114, -0.1652, -0.247, -0.2392, -0.2711, -0.1949, -0.2465, -0.1397, -0.1781, -0.2399, -0.3957, -0.1082, -0.1162, -0.4838, -0.4482, -0.1309, 0.0308, -0.2194, -0.2054, -0.2246, -0.1553, -0.1479, -0.1773, -0.2402, -0.269, -0.0826, -0.1141, -0.174, -0.2435, -0.0412, -0.2051, -0.3984, -0.2195, -0.2514, -0.2017, -0.3206, -0.0179, -0.0008, -0.3147, -0.2024, -0.2769, -0.4771, -0.2569, 0.0977, -0.396, -0.1294, -0.3027, -0.3717, 0.0314, -0.5165, 0.1157, -0.3096, -0.138, 0.052, -0.5865, 0.1304, -0.2409, -0.0824, -0.0844, -0.2379, -0.3099, -0.28, 0.102, -0.5521, -0.0061, -0.1725, -0.4723, -0.0867, -0.5196, -0.2108, -0.2889, -0.2359, -0.1126, -0.1647, 0.0234, -0.3967, -0.2084, -0.4038, -0.2688, 0.1347, -0.4042, -0.0308, -0.1281, -0.2675, -0.055, -0.1887, -0.228, -0.3475, -0.1874, -0.1229, 0.031, -0.3034, -0.3167, -0.0049, -0.2741, -0.1346, -0.2869, -0.4143, -0.1543, -0.2417, -0.2797, -0.0125, -0.2165, -0.4102, -0.103, -0.2438, -0.1805, -0.2884, -0.3341, -0.0948, -0.3246, -0.0205, -0.242, -0.3787, -0.089, -0.3884, 0.0985, -0.2312, -0.3459, 0.1699, -0.3037, 0.001, -0.3434, -0.352, -0.0511, -0.3795, 0.0074, -0.4153, -0.4666, 0.2198, -0.2883, -0.6184, -0.062, -0.2896, -0.3736, -0.3317, -0.2474, -0.0198, -0.1042, -0.235, -0.3816, 0.2012, -0.5429, -0.1795, 0.1569, -0.7222, 0.3622, -0.3652, -0.5729, 0.0607, 0.0038, -0.1939, -0.5082, 0.2129, -0.6298, -0.1017, 0.0581, -0.7478, 0.2836, -0.2865, -0.3926, -0.0974, -0.5122, -0.2146, 0.0383, -0.2814, -0.3317, -0.1453, -0.2778, -0.2524, -0.1471, -0.1611, -0.2658, -0.0855, -0.2348, -0.295, -0.2674, 0.0214, -0.0246, -0.4094, 0.0444, -0.4213, -0.2559, -0.182, -0.3089, 0.0492, -0.413, -0.1114, -0.3551, -0.2089, -0.2241, -0.2973, -0.0776, -0.4048, -0.0121, -0.3179, -0.1735, -0.3694, 0.0279, -0.1043, -0.7259, 0.0997, -0.4997, 0.0417, -0.1364, -0.5169, 0.1947, -0.4069, -0.0706, -0.2731, -0.2865, -0.0452, -0.3475, 0.0355, -0.3643, -0.0549, -0.2224, -0.4317, 0.1496, -0.5139, 0.0476, -0.4036, -0.301, 0.1044, -0.8735, 0.5153, -0.5216, -0.3746, 0.1996, -0.7376, 0.2329, -0.6039, 0.1408, -0.3439, -0.2151, 0.1993, -0.8638, 0.2484, -0.4852, 0.0864, -0.253, -0.4907, 0.2256, -0.5159, 0.0143, -0.2315, -0.1111, -0.328, -0.2598, -0.1392, -0.2524, -0.0202, -0.319, 0.0418, -0.4948, -0.225, -0.1698, -0.258, -0.0588, -0.4722, 0.0707, -0.4227, -0.1107, 0.0058, -0.5058, 0.0267, -0.317, -0.2037, -0.1932, -0.3544, 0.1109, -0.1255, -0.2753, -0.0698, -0.2893, -0.2805, -0.254, -0.2357, -0.1279, -0.3917, -0.0482, -0.2226, -0.2932, -0.1812, -0.4974, 0.0917, -0.3483, -0.2346, -0.028, -0.2886, 0.1079, -0.3438, -0.068, -0.3699, -0.2775, -0.0491, -0.4344, -0.0213, -0.5155, -0.0483, -0.092, -0.4221, -0.1465, -0.3656, -0.0484, -0.3704, -0.1518, -0.0297, -0.3779, -0.1794, -0.1022, -0.3375, -0.2493, -0.0405, -0.5355, -0.1575, -0.0219, -0.2261, -0.1262, -0.446, -0.1599, -0.0526, -0.1093, -0.1869, -0.2675, -0.1723, -0.2289, -0.0088, -0.2092, -0.2318, -0.2304, -0.3511, -0.0396, -0.3555, -0.2788, -0.2964, -0.3012, 0.0851, -0.4639, -0.3629, -0.2072, -0.3017, -0.0313, -0.1447, -0.1037, -0.1668, -0.273, -0.1729, -0.158, -0.206, 0.109, -0.3132, -0.4774, -0.0865, -0.3103, 0.0372, -0.1347, -0.3871, -0.2356, 0.0125, -0.2669, -0.2299, -0.023, -0.3729, -0.1437, -0.2668, -0.1908, -0.1333, -0.3934, -0.3989, 0.1017, -0.2928, -0.2567, -0.0768, -0.5532, 0.0496, -0.1275, -0.156, -0.2985, -0.0744, -0.2281, -0.4969, 0.2783, -0.4547, -0.1002, 0.0039, -0.4456, -0.0306, -0.4193, -0.2205, -0.3114, -0.2228, -0.088, -0.478, -0.089, -0.1361, -0.3101, -0.2146, -0.2024, -0.24, -0.2855, -0.1475, -0.2092, -0.1316, -0.1148, -0.1495, -0.1916, -0.4095, -0.0953, -0.2449, -0.2632, 0.0776, -0.3714, -0.1261, -0.0443, -0.2765, -0.1175, -0.3357, -0.2293, -0.2606, -0.3186, -0.1351, -0.1768, -0.1858, -0.2309, -0.099, -0.2982, -0.2246, -0.291, -0.3245, 0.2397, -0.3117, 0.4226, 0.0551, -0.6231, 0.2066, -0.3225, -0.0326, -0.3438, -0.1022, 0.0963, -0.3392, -0.0402, -0.3064, -0.1443, -0.1652, -0.2928, -0.0945, -0.1842, -0.3086, 0.0965, -0.2951, -0.2464, 0.0524, -0.5742, -0.1027, -0.2689, -0.3346, 0.0161, -0.43, 0.1169, -0.1021, -0.4267, -0.0701, -0.394, -0.0502, -0.1893, -0.207, -0.0245, -0.1655, 0.1381, -0.4786, -0.139, -0.1183, -0.2645, 0.0384, -0.5311, 0.1465, -0.2153, -0.3711, -0.072, -0.3315, -0.1391, -0.4918, -0.0645, -0.1821, -0.2559, 0.011, -0.1923, -0.1352, -0.3311, -0.1757, -0.1931, -0.2316, -0.0835, -0.2796, -0.0468, 0.101, -0.406, -0.2285, -0.1139, -0.3618, -0.1306, -0.1715, -0.1306, -0.1166, -0.2346, -0.1307, -0.143, -0.2868, -0.3769, -0.2532, -0.0765, -0.2559, -0.2364, -0.0833, -0.1786, -0.1434, -0.3434, -0.2034, -0.1467, -0.3627, -0.0787, -0.1639, -0.2276, -0.0799, -0.0736, -0.2251, -0.3177, -0.2681, -0.1048, -0.1929, -0.3544, 0.1123, -0.2382, -0.2187, -0.0698, -0.3684, -0.0835, -0.2889, -0.1449, -0.2263, -0.1634, -0.1574, -0.2643, -0.0735, -0.4964, -0.0924, -0.2916, -0.2861, -0.0435, -0.3304, 0.0064, -0.2832, 0.0033, -0.2019, -0.4314, -0.0438, -0.2726, -0.109, -0.3444, 0.019, 0.0427, -0.2863, -0.0079, -0.3758, -0.3683, -0.1153, -0.2376, -0.3846, 0.1697, -0.2633, -0.3692, 0.1241, -0.5914, -0.0632, -0.1694, -0.3952, 0.0557, -0.3779, -0.1547, -0.007, -0.2058, -0.2348, -0.2088, -0.1432, -0.2262, -0.2982, -0.2515, -0.118, -0.0227, -0.1092, -0.1669, -0.1244, -0.484, -0.2296, -0.1209, -0.2283, 0.0338, -0.3647, 0.0508, -0.254, -0.3909, 0.0652, -0.6427, -0.0935, -0.0205, -0.4459, -0.1723, -0.2034, -0.1, -0.1727, -0.1868, -0.3064, -0.2237, -0.1425, -0.3236, 0.0118, -0.115};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">extern &quot;C&quot; void app_main()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sequence_model_init();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    for (int i = 0; i &lt; 100; i++)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        clock_t start_time = clock();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sequence_model_predict(sequence_data, sizeof(sequence_data) / sizeof(sequence_data[0]));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        clock_t end_time = clock();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        double time_used = (double)(end_time - start_time) * 1000.0 / CLOCKS_PER_SEC;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        printf(&quot;%.2f\n&quot;,time_used);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/espressif/个人学习/DL/tflite_1dcnn.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/espressif/个人学习/DL/tflit_micro_mnist"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TFLite Micro Mnist</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/espressif/个人学习/DL/tflite_2d"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TFLITE CIFAR10</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#模型训练" class="table-of-contents__link toc-highlight">模型训练</a></li><li><a href="#esp32" class="table-of-contents__link toc-highlight">ESP32</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/YanKE01" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>